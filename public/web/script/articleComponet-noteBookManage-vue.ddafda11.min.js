(window.webpackJsonp=window.webpackJsonp||[]).push([["articleComponet-noteBookManage-vue"],{"8BN0":function(t,n,e){"use strict";var o=e("teLd");e.n(o).a},IBH9:function(t,n,e){(t.exports=e("JPst")(!1)).push([t.i,".write[data-v-538a3134] {\n  position: fixed;\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  width: 100%;\n  height: 100%;\n  z-index: 1001;\n}\n.write_block[data-v-538a3134] {\n  float: left;\n  height: 100%;\n  background-color: #fff;\n}\n.note-book[data-v-538a3134] {\n  width: 16%;\n  color: #fff;\n  background-color: #404040;\n}\n.add-book[data-v-538a3134] {\n  padding: 10px 15px;\n}\n.add-book .add-book-click[data-v-538a3134] {\n  width: 100%;\n  cursor: pointer;\n}\n.add-book input[data-v-538a3134] {\n  width: 100%;\n  height: 35px;\n  color: #ccc;\n  background-color: #595959;\n  border: 1px solid #333;\n  padding: 4px 6px;\n  margin-top: 10px;\n  margin-bottom: 10px;\n  font-size: 14px;\n  line-height: 20px;\n}\n.add-book input[data-v-538a3134]:focus {\n  border: 1px solid #333;\n}\n.add-book button[data-v-538a3134] {\n  border-style: none;\n  border-width: 0;\n  background-color: transparent;\n  color: #999;\n  padding: 5px 12px;\n  margin-left: 5px;\n}\n.add-book .commit[data-v-538a3134] {\n  border: 1px solid #42c02e;\n  color: #42c02e;\n  border-radius: 15px;\n}\n.add-book .cancle[data-v-538a3134]:hover,\n.add-book .cancle[data-v-538a3134]:focus {\n  color: #b3b3b3;\n}\n.book-list_item[data-v-538a3134] {\n  position: relative;\n  padding: 10px 15px;\n  border-left: 3px solid transparent;\n}\n.book-list_item[data-v-538a3134]:hover {\n  background-color: #666;\n}\n.book-setting_icon[data-v-538a3134] {\n  display: none;\n  position: absolute;\n  right: 23px;\n  top: 35%;\n  font-size: 18px;\n  cursor: pointer;\n}\n.selected .book-setting_icon[data-v-538a3134] {\n  display: block;\n}\n.book-list_item.selected[data-v-538a3134] {\n  border-left: 3px solid #ec7259;\n}\n.notebook-article[data-v-538a3134] {\n  width: 34%;\n  border-right: 1px solid #d9d9d9;\n}\n.add-article[data-v-538a3134] {\n  line-height: 20px;\n  font-size: 15px;\n  font-weight: 400;\n  padding: 20px 0 20px 25px;\n  cursor: pointer;\n  color: #595959;\n}\n.article-list[data-v-538a3134] {\n  position: relative;\n  margin-bottom: 0;\n  background-color: #efe9d9;\n  border-top: 1px solid #d9d9d9;\n}\n.article-list .article-list_item[data-v-538a3134] {\n  position: relative;\n  height: 90px;\n  color: #595959;\n  background-color: #fff;\n  margin-bottom: 0;\n  padding: 15px 10px 15px 60px;\n  -webkit-box-shadow: 1px 0px 0px 1px #d9d9d9;\n  box-shadow: 1px 0px 0px 1px #d9d9d9;\n  border-left: 5px solid transparent;\n  list-style: none;\n  line-height: 60px;\n  cursor: pointer;\n  -webkit-user-select: none;\n  -moz-user-select: none;\n  -ms-user-select: none;\n  user-select: none;\n}\n.article-list .article-list_item[data-v-538a3134]:hover {\n  background-color: #e6e6e6;\n}\n.article-list .article-list_item .article-list_item-icon[data-v-538a3134] {\n  position: absolute;\n  top: 30px;\n  left: 20px;\n  width: 22px;\n  height: 30px;\n}\n.article-list .article-list_item .title[data-v-538a3134],\n.article-list .article-list_item .simple-content[data-v-538a3134] {\n  display: block;\n  height: 30px;\n  line-height: 30px;\n  margin-right: 40px;\n  overflow: hidden;\n  -o-text-overflow: ellipsis;\n  text-overflow: ellipsis;\n  white-space: nowrap;\n}\n.article-list .article-list_item .title[data-v-538a3134] {\n  font-size: 18px;\n}\n.article-list .article-list_item .count[data-v-538a3134] {\n  position: absolute;\n  bottom: 2px;\n  left: 5px;\n  font-size: 9px;\n  line-height: 16px;\n  color: #595959;\n}\n.article-list .article-list_item.selected[data-v-538a3134] {\n  border-left: 5px solid #ec7259;\n  background-color: #e6e6e6;\n}\n.article-content[data-v-538a3134] {\n  width: 50%;\n  height: 100vh;\n  background-color: #fff;\n  padding-top: 16px;\n}\n.article-content .article-content_block[data-v-538a3134] {\n  height: 100%;\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  -webkit-box-orient: vertical;\n  -webkit-box-direction: normal;\n  -ms-flex-direction: column;\n  flex-direction: column;\n}\n.article-content .title-input[data-v-538a3134] {\n  flex-shrink: 0;\n  width: 100%;\n  padding: 0 80px 10px 40px;\n  margin-bottom: 0;\n  border: none;\n  font-size: 30px;\n  font-weight: 400;\n  line-height: 30px;\n  -webkit-box-shadow: none;\n  box-shadow: none;\n  color: #595959;\n  background-color: transparent;\n  outline: none;\n  border-radius: 0;\n  overflow: hidden;\n  -o-text-overflow: ellipsis;\n  text-overflow: ellipsis;\n  white-space: nowrap;\n}\n.article-content .tool-bar[data-v-538a3134] {\n  margin: 0;\n  list-style-type: none;\n  background-color: #d9d9d9;\n  border-bottom: 1px solid #ccc;\n}\n.article-content .tool-bar .tool-bar_block[data-v-538a3134] {\n  display: inline-block;\n  float: right;\n  width: 32px;\n  height: 32px;\n  color: #595959;\n  padding: 8px;\n}\n.article-content .tool-bar .tool-bar_block[data-v-538a3134]:hover {\n  color: #f2f2f2;\n  background-color: #595959;\n}\n.article-content .tool-bar .publish[data-v-538a3134] {\n  width: auto;\n}\n.article-content .tool-bar .publish span[data-v-538a3134] {\n  display: inline-block;\n  font-size: 12px;\n  vertical-align: top;\n}\n.article-content textarea[data-v-538a3134] {\n  width: 100%;\n  -webkit-box-flex: 1;\n  -ms-flex: 1;\n  flex: 1;\n  padding: 40px 40px 80px;\n  margin-bottom: 0;\n  resize: none;\n  color: #333;\n  background-color: transparent;\n  font-size: 18px;\n  font-weight: 400;\n  line-height: 30px;\n  border: none;\n  outline: none;\n  -webkit-appearance: none;\n  overflow: auto;\n}\ninput[data-v-538a3134],\ntextarea[data-v-538a3134] {\n  font-family: -apple-system, SF UI Text, Arial, PingFang SC, Hiragino Sans GB, Microsoft YaHei, WenQuanYi Micro Hei, sans-serif;\n}\n.goto-homepage[data-v-538a3134] {\n  text-align: center;\n  padding: 15px;\n}\n.goto-homepage a[data-v-538a3134] {\n  display: block;\n  font-size: 15px;\n  padding: 9px 0;\n  color: #ec7259;\n  border: 1px solid rgba(236,114,89,0.8);\n  border-radius: 20px;\n  -webkit-transition: border-color 0.2s ease-in;\n  -o-transition: border-color 0.2s ease-in;\n  transition: border-color 0.2s ease-in;\n}\n.goto-homepage a[data-v-538a3134]:hover {\n  will-change: border-color;\n  color: #ec7259;\n  border-color: #ec7259;\n}\n.save-loading[data-v-538a3134] {\n  display: inline-block;\n  width: 3px;\n  height: 14px;\n  background-color: #595959;\n  animation: saveloading-data-v-538a3134 linear 1s infinite;\n  -webkit-animation: saveloading-data-v-538a3134 linear 1s infinite;\n}\n.save-loading[data-v-538a3134]:nth-child(2) {\n  height: 6px;\n}\n.save-loading[data-v-538a3134]:nth-child(1) {\n  animation-delay: 0s;\n}\n.save-loading[data-v-538a3134]:nth-child(2) {\n  animation-delay: 0.1s;\n}\n.save-loading[data-v-538a3134]:nth-child(3) {\n  animation-delay: 0.2s;\n}\n@-webkit-keyframes saveloading-data-v-538a3134 {\n0%, 100% {\n    height: 8px;\n}\n50% {\n    height: 12px;\n}\n}\n@-moz-keyframes saveloading-data-v-538a3134 {\n0%, 100% {\n    height: 6px;\n}\n50% {\n    height: 14px;\n}\n}\n@-webkit-keyframes saveloading-data-v-538a3134 {\n0%, 100% {\n    height: 6px;\n}\n50% {\n    height: 14px;\n}\n}\n@-o-keyframes saveloading-data-v-538a3134 {\n0%, 100% {\n    height: 6px;\n}\n50% {\n    height: 14px;\n}\n}\n@keyframes saveloading-data-v-538a3134 {\n0%, 100% {\n    height: 6px;\n}\n50% {\n    height: 14px;\n}\n}\n",""])},s0n0:function(t,n,e){"use strict";e.r(n);var o=function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",{staticClass:"write clearfix",staticStyle:{width:"100%",height:"100%"}},[e("div",{staticClass:"write_block note-book"},[t._m(0),t._v(" "),e("div",{staticClass:"add-book"},[e("div",{staticClass:"add-book-click",on:{click:function(n){t.isAddBook=!0}}},[e("svg",{staticClass:"icon",attrs:{"aria-hidden":"true"}},[e("use",{attrs:{"xlink:href":"#icon-jiahao"}})]),t._v(" "),e("span",[t._v("新建文集")])]),t._v(" "),e("div",{directives:[{name:"show",rawName:"v-show",value:t.isAddBook,expression:"isAddBook"}]},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.noteBookItem.noteBookTitle,expression:"noteBookItem.noteBookTitle"}],attrs:{type:"text",placeholder:"请输入文集名称"},domProps:{value:t.noteBookItem.noteBookTitle},on:{input:function(n){n.target.composing||t.$set(t.noteBookItem,"noteBookTitle",n.target.value)}}}),t._v(" "),e("button",{staticClass:"commit",on:{click:t.addBookList}},[e("span",[t._v("确定")])]),t._v(" "),e("button",{staticClass:"cancle",on:{click:function(n){t.isAddBook=!1}}},[e("span",[t._v("取消")])])])]),t._v(" "),t.bookList&&t.bookList.length?e("ul",{staticClass:"book-list"},t._l(t.bookList,function(n){return e("li",{key:n.noteBookId,staticClass:"book-list_item",class:{selected:t.currentBook&&t.currentBook.noteBookTitle===n.noteBookTitle},on:{click:function(e){return t.selectBook(n)}}},[e("span",[t._v(t._s(n.noteBookTitle))]),t._v(" "),e("svg",{staticClass:"icon book-setting_icon",attrs:{"aria-hidden":"true"}},[e("use",{attrs:{"xlink:href":"#icon-icon_huabanfuben"}})])])}),0):t._e()]),t._v(" "),e("div",{staticClass:"write_block notebook-article"},[e("div",{staticClass:"add-article",on:{click:function(n){return t.addActicle()}}},[e("svg",{staticClass:"icon",attrs:{"aria-hidden":"true"}},[e("use",{attrs:{"xlink:href":"#icon-jiakeshiicon"}})]),t._v(" "),e("span",[t._v("新建文章")])]),t._v(" "),t.articleList&&t.articleList.length?e("ul",{staticClass:"article-list"},t._l(t.articleList,function(n){return e("li",{key:n.articleId,staticClass:"article-list_item",class:{selected:t.currentArticle&&t.currentArticle.articleId===n.articleId}},[0==n.state?e("svg",{staticClass:"icon article-list_item-icon",attrs:{"aria-hidden":"true"}},[e("use",{attrs:{"xlink:href":"#icon-biaoqian2"}})]):e("svg",{staticClass:"icon article-list_item-icon",attrs:{"aria-hidden":"true"}},[e("use",{attrs:{"xlink:href":"#icon-biaoqian1"}})]),t._v(" "),e("span",{staticClass:"title"},[t._v(t._s(n.title))]),t._v(" "),e("span",{staticClass:"simple-content"},[t._v(t._s(n.content&&n.content.length>50?n.content.substring(0,50):n.content))]),t._v(" "),e("span",{staticClass:"count"},[t._v("字数:"+t._s(n.content&&n.content.length))]),t._v(" "),e("svg",{staticClass:"icon book-setting_icon",attrs:{"aria-hidden":"true"}},[e("use",{attrs:{"xlink:href":"#icon-icon_huabanfuben"}})])])}),0):t._e()]),t._v(" "),e("div",{staticClass:"write_block article-content"},[e("div",{staticClass:"article-content_block"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.currentArticle.title,expression:"currentArticle.title"}],staticClass:"title-input",attrs:{type:"text"},domProps:{value:t.currentArticle.title},on:{input:function(n){n.target.composing||t.$set(t.currentArticle,"title",n.target.value)}}}),t._v(" "),e("div",{staticClass:"tool-bar clearfix"},[0==t.currentArticle.state?e("div",{staticClass:"tool-bar_block publish",on:{click:t.publishActicle}},[e("svg",{staticClass:"icon tool-bar_icon",attrs:{"aria-hidden":"true"}},[e("use",{attrs:{"xlink:href":"#icon-fabu"}})]),t._v(" "),e("span",[t._v("发布文章")])]):e("div",{staticClass:"tool-bar_block publish"},[e("svg",{staticClass:"icon tool-bar_icon",attrs:{"aria-hidden":"true"}},[e("use",{attrs:{"xlink:href":"#icon-ic_check"}})]),t._v(" "),e("span",[t._v("已发布")])]),t._v(" "),t.saving?t._e():e("div",{staticClass:"tool-bar_block",attrs:{title:"保存"},on:{click:t.saveActicle}},[e("svg",{staticClass:"icon tool-bar_icon",attrs:{"aria-hidden":"true"}},[e("use",{attrs:{"xlink:href":"#icon-baocun"}})])]),t._v(" "),t.saving?e("div",{staticClass:"tool-bar_block",staticStyle:{width:"34px"}},[e("span",{staticClass:"save-loading"}),t._v(" "),e("span",{staticClass:"save-loading"}),t._v(" "),e("span",{staticClass:"save-loading"})]):t._e(),t._v(" "),e("div",{staticClass:"tool-bar_block",attrs:{title:"预览"}},[e("svg",{staticClass:"icon tool-bar_icon",attrs:{"aria-hidden":"true"}},[e("use",{attrs:{"xlink:href":"#icon-review"}})])])]),t._v(" "),e("textarea",{directives:[{name:"model",rawName:"v-model",value:t.currentArticle.content,expression:"currentArticle.content"}],domProps:{value:t.currentArticle.content},on:{input:function(n){n.target.composing||t.$set(t.currentArticle,"content",n.target.value)}}})])])])};o._withStripped=!0;var a={data:function(){return{isAddBook:!1,noteBookItem:{},bookList:[],currentBook:null,articleList:[],currentArticle:{},hashValue:null,saving:!1}},computed:{},mounted:function(){this.getHashValue(),this.getBookList()},methods:{getHashValue:function(){var t=this.$route.hash;if(t){var n=t.split("/");3==n.length&&(this.hashValue={noteBookId:n[1],articleId:n[2]})}},changeHash:function(){var t="";this.currentBook&&this.currentBook.noteBookId&&(t="#/".concat(this.currentBook.noteBookId)),this.currentArticle&&this.currentArticle.noteBookId&&(t+="/".concat(this.currentArticle.articleId)),t.length&&this.$router.push({path:this.$route.path+t})},addBookList:function(){var t=this;this.noteBookItem.noteBookTitle&&this.$ajax("/api/noteBook/add",this.noteBookItem,"POST").then(function(n){n.datas&&n.datas>0&&(t.isAddBook=!1,t.getBookList())}).catch(function(t){console.log(t)})},getBookList:function(){var t=this;this.$ajax("/api/noteBook/getlist",{delete:0},"POST").then(function(n){if(n.datas&&n.datas.length&&(t.bookList=n.datas,!t.currentBook)){if(t.currentBook=t.bookList[0],t.hashValue&&t.hashValue.noteBookId){var e=t.bookList.find(function(n){return n.noteBookId==t.hashValue.noteBookId});e&&(t.currentBook=e)}t.getArticleList()}}).catch(function(t){console.log(t)})},selectBook:function(t){this.currentBook=t,this.articleList=[],this.currentArticle={},this.getArticleList()},getArticleList:function(){var t=this;if(this.currentBook){var n={noteBookId:this.currentBook.noteBookId,delete:0};this.$ajax("/api/article/getlist",n,"POST").then(function(n){if(n.datas&&n.datas.length&&(t.articleList=n.datas,t.currentArticle=t.articleList[0],t.hashValue&&t.hashValue.articleId)){var e=t.articleList.find(function(n){return n.articleId==t.hashValue.articleId});e&&(t.currentArticle=e)}t.changeHash()}).catch(function(t){console.log(t)})}},addActicle:function(){var t=this,n={noteBookId:this.currentBook.noteBookId,title:(new Date).format("yyyy-MM-dd"),state:0};this.$ajax("/api/article/add",n,"POST").then(function(n){1==n.type&&n.datas&&(t.articleList.push(n.datas),t.currentArticle=n.datas,t.changeHash())}).catch(function(t){console.log(t)})},saveActicle:function(){var t=this;this.saving=!0,this.$ajax("/api/article/update",this.currentArticle,"POST").then(function(n){t.saving=!1,1==n.type&&n.datas>0&&t.$elms({showClose:!0,type:"success",message:"保存成功"})}).catch(function(t){console.log(t)})},publishActicle:function(){this.currentArticle.state=1,this.saveActicle()}}},i=(e("8BN0"),e("KHd+")),s=Object(i.a)(a,o,[function(){var t=this.$createElement,n=this._self._c||t;return n("div",{staticClass:"goto-homepage"},[n("a",{attrs:{href:"/"}},[this._v("回首页")])])}],!1,null,"538a3134",null);s.options.__file="web/src/plugin/articleComponet/noteBookManage.vue";n.default=s.exports},teLd:function(t,n,e){var o=e("IBH9");"string"==typeof o&&(o=[[t.i,o,""]]),o.locals&&(t.exports=o.locals);(0,e("SZ7m").default)("d94f83aa",o,!1,{})}}]);