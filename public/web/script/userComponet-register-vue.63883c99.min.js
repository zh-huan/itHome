(window.webpackJsonp=window.webpackJsonp||[]).push([["userComponet-register-vue"],{Tanw:function(e,t,s){var a=s("V0fT");"string"==typeof a&&(a=[[e.i,a,""]]),a.locals&&(e.exports=a.locals);(0,s("SZ7m").default)("9561838a",a,!1,{})},V0fT:function(e,t,s){(e.exports=s("JPst")(!1)).push([e.i,".regist-content[data-v-655c21e2] {\n  max-width: 856px;\n  margin: 0 auto;\n}\n.regist-title[data-v-655c21e2] {\n  font-size: 21px;\n  color: #212529;\n  padding: 20px 0 10px 15px;\n  border-bottom: 1px solid rgba(0,0,0,0.1);\n}\n.regist-form[data-v-655c21e2] {\n  display: inline-block;\n  width: 60%;\n  padding: 13px;\n}\n",""])},XDea:function(e,t,s){"use strict";s.r(t);var a=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"regist-content"},[e.success?e._e():s("div",[s("div",{staticClass:"regist-title"},[e._v("新用户注册")]),e._v(" "),s("div",[s("el-form",{ref:"userInfo",staticClass:"regist-form",attrs:{model:e.userInfo,"status-icon":"","label-width":"100px"}},[s("el-form-item",{attrs:{label:"注册邮箱",prop:"email",rules:[{required:!0,message:"请输入邮箱地址",trigger:"blur"},{type:"email",message:"请输入正确的邮箱地址",trigger:["blur","change"]}]}},[s("el-input",{attrs:{type:"email",autocomplete:"off"},model:{value:e.userInfo.email,callback:function(t){e.$set(e.userInfo,"email",t)},expression:"userInfo.email"}})],1),e._v(" "),s("el-form-item",{attrs:{label:"手机号码",prop:"phone",rules:[{required:!0,message:"请输入手机号码",trigger:"blur"},{type:"phone",message:"请输入正确的手机号码",trigger:"blur,change"}]}},[s("el-col",{attrs:{span:4}},[s("el-input",{attrs:{type:"prePhone",autocomplete:"off"},model:{value:e.userInfo.prePhone,callback:function(t){e.$set(e.userInfo,"prePhone",t)},expression:"userInfo.prePhone"}})],1),e._v(" "),s("el-col",{attrs:{span:20}},[s("el-input",{attrs:{type:"phone",autocomplete:"off"},model:{value:e.userInfo.phone,callback:function(t){e.$set(e.userInfo,"phone",t)},expression:"userInfo.phone"}})],1)],1),e._v(" "),s("el-form-item",{attrs:{label:"登陆名称",prop:"loginName",rules:[{required:!0,message:"请输入登陆名称",trigger:"blur"},{validator:e.loginNameValidate,trigger:"blur"}]}},[s("el-input",{attrs:{type:"loginName",autocomplete:"off"},model:{value:e.userInfo.loginName,callback:function(t){e.$set(e.userInfo,"loginName",t)},expression:"userInfo.loginName"}})],1),e._v(" "),s("el-form-item",{attrs:{label:"显示昵称",prop:"userName",rules:[{required:!0,message:"请输入显示昵称",trigger:"blur"},{validator:e.userNameValidate,trigger:"blur"}]}},[s("el-input",{attrs:{type:"userName",autocomplete:"off"},model:{value:e.userInfo.userName,callback:function(t){e.$set(e.userInfo,"userName",t)},expression:"userInfo.userName"}})],1),e._v(" "),s("el-form-item",{attrs:{label:"密    码",prop:"password",rules:[{required:!0,message:"请输入密码",trigger:"blur"},{validator:this.validatePass,trigger:"blur"}]}},[s("el-input",{attrs:{type:"password",autocomplete:"off"},model:{value:e.userInfo.password,callback:function(t){e.$set(e.userInfo,"password",t)},expression:"userInfo.password"}})],1),e._v(" "),s("el-form-item",{attrs:{label:"确认密码",prop:"confirmpwd",rules:[{required:!0,message:"请输入确认密码",trigger:"blur"},{validator:this.validatePass2,trigger:"blur"}]}},[s("el-input",{attrs:{type:"password",autocomplete:"off"},model:{value:e.userInfo.confirmpwd,callback:function(t){e.$set(e.userInfo,"confirmpwd",t)},expression:"userInfo.confirmpwd"}})],1),e._v(" "),s("el-form-item",[s("el-checkbox",{attrs:{type:"checkbox"},model:{value:e.checked,callback:function(t){e.checked=t},expression:"checked"}},[e._v("\n                        是否同意并愿意遵守\n                        "),s("span",{staticClass:"regist-agree"},[e._v("用户协议")]),e._v(" 。\n                    ")])],1),e._v(" "),s("el-form-item",[s("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.submitForm("ruleForm")}}},[e._v("注册")])],1)],1),e._v(" "),s("div",{staticClass:"regist"})],1),e._v(" "),s("el-dialog",{attrs:{title:"提示",visible:e.dialogVisible,width:"30%"},on:{"update:visible":function(t){e.dialogVisible=t}}},[s("span",[e._v("请先查阅“用户协议”，并同意用户协议")]),e._v(" "),s("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[s("el-button",{attrs:{type:"primary"},on:{click:function(t){e.dialogVisible=!1}}},[e._v("确 定")])],1)])],1),e._v(" "),e.success?s("div",{staticClass:"regist-success"},[e._m(0)]):e._e()])};a._withStripped=!0;var r={data:function(){return{validatePass:this.validatePassfunc,validatePass2:this.validatePass2func,loginNameValidate:this.loginNameValidatefunc,userNameValidate:this.userNameValidatefunc,dialogVisible:!1,checked:!1,userInfo:{userName:"",loginName:"",password:"",confirmpwd:"",email:"",phone:"",prePhone:"+86"},success:!1}},mounted:function(){},methods:{submitForm:function(){var e=this;this.checked?this.$ajax("/api/user/regist",{userInfo:this.userInfo},"POST").then(function(t){1===t.type&&t.datas>0&&(e.success=!0)}).catch(function(e){}):this.dialogVisible=!0},validatePassfunc:function(e,t,s){""===t?s(new Error("请输入密码")):(""!==this.userInfo.confirmpwd&&this.$refs.userInfo.validateField("confirmpwd"),s())},validatePass2func:function(e,t,s){""===t?s(new Error("请再次输入密码")):t!==this.userInfo.password?s(new Error("两次输入密码不一致!")):s()},loginNameValidatefunc:function(e,t,s){this.validateName(t,s,"loginName","登录名称不能重复，请重新输入")},userNameValidatefunc:function(e,t,s){this.validateName(t,s,"userName","昵称名称不能重复，请重新输入")},validateName:function(e,t,s,a){var r={};r[s]=e,this.$ajax("/api/user/getUser",{userInfo:r},"POST").then(function(e){1===e.type&&(e.datas&&e.datas.length>0?t(new Error(a)):t())}).catch(function(e){t(new Error(e))})}}},i=(s("oHv0"),s("KHd+")),o=Object(i.a)(r,a,[function(){var e=this.$createElement,t=this._self._c||e;return t("div",[this._v("\n            账号注册成功，点击\n            "),t("a",{staticClass:"goto-login",attrs:{href:"/login"}},[this._v("登录")])])}],!1,null,"655c21e2",null);o.options.__file="web/src/plugin/userComponet/register.vue";t.default=o.exports},oHv0:function(e,t,s){"use strict";var a=s("Tanw");s.n(a).a}}]);